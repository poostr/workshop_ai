# ADR-0002: Backend bootstrap для INIT-002

## Статус

Принято.

## Контекст

Задача `INIT-002` требует:
- старт backend на FastAPI;
- чтение конфигурации из env без секретов в репозитории;
- наличие маршрутов `/health` и базового префикса `/api/v1`;
- запуск в контейнере.

Дополнительно при верификации обнаружен локальный конфликт порта `5432` на хосте.

## Решение

1. Реализован минимальный backend каркас:
   - `app/main.py` с `create_app()` и endpoint `GET /health`;
   - `app/config.py` на `pydantic-settings` (`APP_ENV`, `LOG_LEVEL`, `DATABASE_URL`);
   - `app/api/v1/router.py` с техническим endpoint `GET /api/v1/status` для проверки маршрутизации.
2. Добавлены контейнеризация и зависимости backend:
   - `backend/Dockerfile`;
   - `backend/pyproject.toml` (runtime + dev зависимости).
3. Для устойчивого локального запуска в `docker-compose.yml` убран проброс порта `5432` у `postgres`,
   так как межконтейнерному доступу он не нужен, а на хосте часто занят локальной БД.

## Последствия

- Плюсы:
  - backend запускается контейнерно и отвечает на healthcheck;
  - конфиг централизован и читается из env;
  - снижен риск конфликтов порта `5432` у разработчиков.
- Минусы:
  - прямое подключение к контейнерному Postgres с хоста без дополнительного override не выполняется.

