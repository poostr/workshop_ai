# ADR-0005: Quality gates для INIT-005

- Статус: Accepted
- Дата: 2026-02-24
- Связанная задача: INIT-005

## Контекст

На этапе инициализации проекта нужны быстрые и воспроизводимые команды для проверки качества кода в backend и frontend. Эти команды должны быть единообразными, чтобы следующие задачи могли ссылаться на них как на обязательные quality gates.

## Решение

1. Ввести единый root-level `Makefile` как точку входа для quality gates.
2. Для backend использовать `ruff` как formatter и linter, а `pytest` как тестовый gate.
3. Для frontend использовать:
   - `prettier` для форматирования;
   - `eslint` (flat config) + `typescript-eslint` для линтинга;
   - `vite build` как build gate;
   - отдельный `npm run test` entrypoint, который можно заменить на реальный раннер на следующих этапах без изменения интерфейса quality gates.

## Последствия

- Положительные:
  - Единый и простой интерфейс запуска проверок через `make`.
  - Повторяемость команд в локальном окружении и CI.
  - Минимальная стоимость расширения (добавление реальных frontend тестов не потребует менять командный контракт).
- Ограничения:
  - На текущем этапе frontend test gate является инфраструктурным entrypoint без фактических тест-кейсов.
