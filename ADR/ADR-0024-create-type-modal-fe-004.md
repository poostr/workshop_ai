# ADR-0024: Создание типа через модальное окно (FE-004)

## Статус
Принято

## Контекст
Задача FE-004 требует реализации создания типа миниатюр с обработкой дубликатов. В FE-001 была реализована отдельная страница `CreateTypePage` по маршруту `/types/new`. Однако DoD задачи FE-004 явно требует, чтобы **список обновлялся** после создания типа.

При page-based подходе пользователь после создания перенаправлялся на карточку типа и не видел обновлённого списка. Необходим более контекстный UX.

## Решение
Создание типа реализовано через **модальное окно** (`<dialog>`) на главной странице:

1. Кнопки «Добавить тип» и CTA в empty state открывают модалку вместо навигации.
2. После успешного создания модалка закрывается и список типов перезагружается — пользователь сразу видит новый тип в списке.
3. Ошибка `ERR_DUPLICATE_TYPE_NAME` отображается внутри модалки через централизованный `getLocalizedErrorMessage`.
4. Использован нативный элемент `<dialog>` (поддерживается всеми современными браузерами) — без внешних зависимостей.
5. Страница `CreateTypePage` и маршрут `/types/new` удалены как избыточные.

## Альтернативы
- **Оставить page-based подход**: проще, но не соответствует DoD («список обновляется») и ухудшает UX.
- **Библиотечная модалка (headlessui, radix)**: избыточно для одного диалога; нативный `<dialog>` достаточен.

## Последствия
- UX улучшен: пользователь остаётся на главной странице и видит обновлённый список.
- Маршрут `/types/new` удалён; прямой доступ по URL редиректит на `/` через catch-all.
- Удалён файл `CreateTypePage.tsx` — мёртвый код устранён.
