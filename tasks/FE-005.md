# FE-005: Type details — отображение counts и форма перемещения

## Статус: Выполнено

## Что сделано

### Изменённые файлы
- `frontend/src/pages/TypeDetailsPage.tsx` — исправлена синхронизация `fromStage`, удалён fallback-список, добавлен empty state для формы, передан `refreshKey` в `HistorySection`.
- `frontend/src/shared/i18n/resources/en.ts` — добавлен ключ `moveNoAvailable`.
- `frontend/src/shared/i18n/resources/ru.ts` — добавлен ключ `moveNoAvailable`.
- `frontend/src/styles.css` — добавлен CSS-класс `.section-empty`.

## Проверка DoD
- [x] Невозможные переходы недоступны в UI: dropdown показывает только стадии с count > 0; при отсутствии таковых — empty state вместо формы.
- [x] Валидации на клиенте соответствуют PRD: max qty = count(X), показано «Доступно: N», кнопка disabled при 0.
- [x] Frontend quality gate: `tsc --noEmit` (0 ошибок), `eslint .` (0 ошибок), `vite build` (собран).
- [x] Backend тесты: 25 passed.

## Принятые решения
- [ADR-0025](../ADR/ADR-0025-type-details-move-form-fe-005.md) — исправление синхронизации fromStage, empty state, обновление истории после move.
