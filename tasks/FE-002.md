# Отчёт по задаче FE-002

## Статус

Выполнено.

## Что сделано

- Добавлены типы для импорта в `frontend/src/shared/api/types.ts`:
  - `ImportStageCount`, `ImportHistoryItem`, `ImportTypeItem`, `ImportRequest`;
  - интерфейсы зеркалят Pydantic-схемы backend.
- Типизирован метод `importState` в `frontend/src/shared/api/client.ts`:
  - сигнатура изменена с `data: unknown` на `data: ImportRequest`.
- Создан централизованный хелпер `getLocalizedErrorMessage` в `frontend/src/shared/api/errors.ts`:
  - принимает `(err: unknown, t: TFunction)`, возвращает локализованное сообщение;
  - инкапсулирует проверку `instanceof ApiClientError` и маппинг через i18n.
- Рефакторинг трёх страниц для использования централизованного хелпера:
  - `MainPage.tsx` — убран прямой импорт `ApiClientError`, используется `getLocalizedErrorMessage`;
  - `CreateTypePage.tsx` — аналогично;
  - `TypeDetailsPage.tsx` (`MoveSection`) — аналогично.

## Верификация

- `tsc --noEmit` — успешно (0 ошибок).
- `eslint .` — успешно (0 ошибок).
- `vite build` — успешно (dist/ собран).
- Backend тесты — 25 passed.

## Принятые решения

- ADR: [`ADR-0022`](../ADR/ADR-0022-typed-api-client-error-mapping-fe-002.md)
